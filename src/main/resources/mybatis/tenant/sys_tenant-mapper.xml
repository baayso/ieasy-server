<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<!-- namespace 必须指向 MyBatis DAO 接口 -->
<mapper namespace="com.baayso.springboot.tenant.dao.TenantDAO">

    <resultMap id="tenantResultMap" type="com.baayso.springboot.tenant.domain.TenantDO">
        <id property="id" column="id"/>
    </resultMap>

    <update id="createDatabase" parameterType="java.lang.String">
        CREATE DATABASE ${name}
            DEFAULT CHARSET utf8mb4
            COLLATE utf8mb4_unicode_ci;
    </update>

    <update id="createTable" parameterType="java.lang.String">
        CREATE TABLE ${name}.demo_user (
            id              BIGINT          UNSIGNED    NOT NULL    AUTO_INCREMENT              COMMENT '主键',
            tenant_code     VARCHAR(50)                 NOT NULL    DEFAULT 'ieasy_tenant_1'    COMMENT '租户编码',
            name            VARCHAR(255)                            DEFAULT NULL                COMMENT '姓名',
            age             SMALLINT        UNSIGNED                DEFAULT 0                   COMMENT '年龄',
            status          SMALLINT        UNSIGNED                DEFAULT 128                 COMMENT '状态',
            intro           TEXT                                    DEFAULT NULL                COMMENT '简介',
            version         INT             UNSIGNED                DEFAULT 0                   COMMENT '乐观锁',
            deleted         BOOLEAN                                 DEFAULT FALSE               COMMENT '是否删除',
            create_by       VARCHAR(100)                                                        COMMENT '记录创建人',
            create_time     DATETIME                                                            COMMENT '记录创建时间',
            update_by       VARCHAR(100)                                                        COMMENT '记录修改人',
            update_time     DATETIME                                                            COMMENT '记录修改时间',
            PRIMARY KEY (id)
        ) COMMENT '测试';
    </update>

</mapper>
